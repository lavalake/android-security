1. keystore.getInstance                                                                                                                                                                                      
        IKeystoreService.Stub.asInteface(ServiceManager.getService(android.security.keystore)) // get the IKeystoreService binder stub                                                                       
        new KeyStore() with the binder then client can call the RPC from android.security.keystore                                                                                                           
2. java.security.keystore have a instance of keystorespi.                                                                                                                                                    
   android.security.androidkeystorespi extends keystorespi. when customer use "AndroidKeyStore" to get a keystore, java.security.keystore will assign android.security.androidkeystorespi to keystorespi.    
   AndroidKeystoreSpi have a instance of android.security.keystore. It has engineLoad() method. In the engineLoad method, it will call android.security.keystore.getInstance() to get an keystore instance.  
   android.security.keystore will call IKeystoreService.Stub.asInterface(ServiceManager.getService("android.security.keystore")) to get an proxy of the keystore service and assigned to the member mBinder as the local binder proxy.                                                                                                                                                                                    
3. key                                                                                                                                                                                                       
        Keys are generally obtained through key generators, certificates,                                                                                                                                    
        or various Identity classes used to manage keys.                                                                                                                                                     
        Keys may also be obtained from key specifications (transparent                                                                                                                                       
        representations of the underlying key material) through the use of a key                                                                                                                             
        factory (see {@link KeyFactory}).                                                                                                                                                                    
4. get KeyInfo for secret key                                                                                                                                                                                
        use SecretKeyFactory to get the KeySpec for secret key.                                                                                                                                              
        for AndroidKeyStore, it will call AndroidKeyStoreSecretKeyFactorSpi.engineGetKeySpec()                                                                                                               
                                                                                                                                                                                                             
        SecretKey key = ((KeyStore.SecretKeyEntry) entry).getSecretKey();                                                                                                                                    
        SecretKeyFactory factory = SecretKeyFactory.getInstance(key.getAlgorithm(), "AndroidKeyStore");                                                                                                      
        keyInfo = (KnoxKeyInfo) factory.getKeySpec(key, KnoxKeyInfo.class);                                                                                                                                  
5. get KeyInfo for private key                                                                                                                                                                               
        use KeyFactory to get the KeySpec for private key.                                                                                                                                                   
        for AndroidKeyStore, it will call AndroidKeyStoreKeyFactory.java, this class will call AndroidKeyStoreSecretKeyFactory.getKeyInfo() to get the keySpec for private key.                              
                                                                                                                                                                                                             
        PrivateKey key = ((KeyStore.PrivateKeyEntry) entry).getPrivateKey();                                                                                                                                 
        KeyFactory factory = KeyFactory.getInstance(key.getAlgorithm(), "AndroidKeyStore");                                                                                                                  
        keyInfo = factory.getKeySpec(key, KnoxKeyInfo.class);                                                                                                                                                
6. key attestation android                                                                                                                                                                                   
        https://developer.android.com/training/articles/security-key-attestation.html                                                                                                                        
        Key Attestation gives you more confidence that the keys you use in your app are stored in a device's hardware-backed keystore. The following sections describe how to verify the properties of hardware-backed keys and how to interpret the schema of the attestation certificate's extension data. 
7. key authorization                                                                                                                                                                                         
                                                                                                                                                                                                             
8. key store service                                                                                                                                                                                         
        IKeyStoreService extends IInterface and define the interface between client and server. BpKeyStoreService implement all these interface methods and act as proxy at client side.                     
        KeyStoreService -> BnKeystoreService -> IKeystoreService                                                                                                                                             
        BnKeystoreService only implement onTrancation method.                                                                                                                                                
        all other method are implemented in KeyStoreService in key_store_service.cpp                                                                                                                         
9 AndroidKeyStoreProvider                                                                                                                                                                                    
        extends Provider                                                                                                                                                                                     
        Provider use a Map<String, String> to store the keystore name and implementation class name of the KeystoreSpi                                                                                       
        every spi need to call the Provider.put method to add itself to the map.                                                                                                                             
10. get KeyStoreSpi                                                                                                                                                                                          
        Java.security.keystore need to get the keyStoreSpi implementation from the Provider.map            
